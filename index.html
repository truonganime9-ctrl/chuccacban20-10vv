<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Anh có điều muốn nói</title>

    <style>
        /* CSS cho toàn bộ trang */
        @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap');

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Roboto', Arial, sans-serif;
        }

        body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: #f0f0f0;
            overflow: hidden;
            /* Quan trọng để các thông báo tràn ra ngoài */
            perspective: 1000px;
            /* Thêm hiệu ứng 3D nhẹ */
        }

        /* Container cho nội dung chính */
        .body-container {
            text-align: center;
            position: relative;
            z-index: 100;
            /* Luôn giữ nội dung chính ở phía trước */
            transition: opacity 0.5s;
        }

        h1 {
            font-size: 3em;
            margin-bottom: 20px;
            color: #333;
        }

        /* Nút bấm chính */
        #mainButton {
            padding: 15px 30px;
            font-size: 1.2em;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            background-color: #007bff;
            color: white;
            transition: background-color 0.3s, transform 0.1s;
        }

        #mainButton:hover {
            background-color: #0056b3;
            transform: scale(1.05);
        }

        /* --- Phong cách cho Thông báo (Pop-up) --- */

        /* Container cha cho phép thông báo bao phủ toàn bộ màn hình */
        #notification-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            pointer-events: none;
            /* Cho phép click xuyên qua nếu cần */
        }

        .notification {
            position: absolute;
            width: 220px;
            padding: 10px;
            background-color: #ffc0cb;
            /* Màu hồng nhạt */
            border: 1px solid #ff69b4;
            border-radius: 8px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15);
            display: flex;
            justify-content: space-between;
            align-items: center;
            pointer-events: auto;
            /* Cho phép tương tác với thông báo */

            /* Hiệu ứng xuất hiện */
            animation: fadeInAndRotate 0.4s ease-out forwards;
        }

        /* Hiệu ứng mờ dần và xoay nhẹ khi xuất hiện */
        @keyframes fadeInAndRotate {
            from {
                opacity: 0;
                transform: scale(0.5) rotateX(90deg);
            }

            to {
                opacity: 1;
                transform: scale(1) rotateX(0deg);
            }
        }

        .notification p {
            margin: 0;
            color: #8b0000;
            /* Chữ màu đỏ đậm */
            font-size: 14px;
            font-weight: 700;
            white-space: nowrap;
        }

        .minimize-btn {
            background: none;
            border: none;
            color: #8b0000;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            padding: 0 5px;
            line-height: 1;
            transition: color 0.2s;
        }

        .minimize-btn:hover {
            color: #ff0000;
        }
    </style>
</head>

<body>
    <div class="body-container">
        <h1>Anh có điều muốn nói</h1>

        <button id="mainButton" onclick="generateRandomNotifications(this)">Nhấn đây nè</button>
    </div>

    <div id="notification-container">
        <div id="notification-template" class="notification" style="display: none;">
            <p>Tràn ngập bộ nhớ</p>
            <p>Nhớ nhớ nhớ em!</p>
            <button class="minimize-btn" onclick="minimizeNotification(this)">X</button>
        </div>
    </div>

    <script>
        // JavaScript
        let isGenerating = false;
        const notificationContainer = document.getElementById('notification-container');
        const notificationTemplate = document.getElementById('notification-template');
        const mainContent = document.querySelector('.body-container');
        const mainButton = document.getElementById('mainButton');

        // Lấy nội dung mẫu từ template
        const templateContent = notificationTemplate.innerHTML;

        // Hàm để tạo và hiển thị các thông báo ngẫu nhiên
        function generateRandomNotifications(clickedButton) {
            if (isGenerating) return;
            isGenerating = true;

            // Ẩn nội dung chính để các thông báo tràn ngập toàn bộ màn hình
            mainContent.style.opacity = '0';
            mainContent.style.pointerEvents = 'none';

            // Đảm bảo nút bấm bị ẩn sau khi kích hoạt
            clickedButton.style.display = 'none';

            const maxNotifications = 150; // Số lượng thông báo tối đa
            let count = 0;

            // Sử dụng setInterval để liên tục tạo thông báo
            const intervalId = setInterval(() => {
                if (count >= maxNotifications) {
                    clearInterval(intervalId);
                    isGenerating = false;
                    return;
                }

                // 1. Tạo một div mới thay vì clone template ẩn
                const newNotification = document.createElement('div');
                newNotification.className = 'notification';
                newNotification.innerHTML = templateContent;

                // Thay đổi nội dung p đầu tiên một chút
                const pElements = newNotification.querySelectorAll('p');
                pElements[0].textContent = 'Tràn ngập bộ nhớ';
                pElements[1].textContent = 'Nhớ nhớ nhớ em!';

                // 2. Thiết lập vị trí ngẫu nhiên
                // Vị trí ngẫu nhiên trong khoảng -50% đến 150% viewport (rộng hơn màn hình)
                const randomX = Math.random() * 200 - 50;
                const randomY = Math.random() * 200 - 50;

                newNotification.style.left = `${randomX}vw`;
                newNotification.style.top = `${randomY}vh`;

                // Cập nhật z-index để thông báo mới luôn ở trên cùng
                newNotification.style.zIndex = 1000 + count;

                // 3. Thêm vào DOM
                notificationContainer.appendChild(newNotification);

                count++;

            }, 100); // Tạo thông báo cứ sau 100ms
        }

        // Hàm để xóa (tối thiểu hóa) một thông báo
        function minimizeNotification(button) {
            const notification = button.closest('.notification');
            if (notification) {
                // Thêm hiệu ứng fade out trước khi xóa
                notification.style.transition = 'opacity 0.3s, transform 0.3s';
                notification.style.opacity = '0';
                notification.style.transform = 'scale(0.8)';

                // Xóa sau khi hiệu ứng kết thúc
                setTimeout(() => {
                    notification.remove();
                }, 300);
            }
        }
    </script>
</body>

</html>